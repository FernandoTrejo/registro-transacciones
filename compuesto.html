<!doctype html>
<html lang="en">
 
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="assets/vendor/bootstrap/css/bootstrap.min.css">
    <link href="assets/vendor/fonts/circular-std/style.css" rel="stylesheet">
    <link rel="stylesheet" href="assets/libs/css/style.css">
    <link rel="stylesheet" href="assets/vendor/fonts/fontawesome/css/fontawesome-all.css">
    <link rel="stylesheet" href="assets/vendor/datepicker/tempusdominus-bootstrap-4.css" />
    <!-- styles -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/busqueda.css" />
    
    <script type="module" src="src/pages/session.js"></script>
    <title>Asientos Compuesto</title>
</head>

<body>
    <div class="dashboard-main-wrapper">

<div class="dashboard-header">
    <nav class="navbar navbar-expand-lg bg-dark fixed-top">
        <a class="navbar-brand" href="index.html">Contabilidad</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse " id="navbarSupportedContent">
            <ul class="navbar-nav ml-auto navbar-right-top">
                <li class="nav-item dropdown nav-user">
                    <a class="nav-link nav-user-img" href="#" id="navbarDropdownMenuLink2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="assets/images/avatar_empresa.jpg" alt="" class="user-avatar-md rounded-circle"></a>
                    <div class="dropdown-menu dropdown-menu-right nav-user-dropdown" aria-labelledby="navbarDropdownMenuLink2">
                        <div class="nav-user-info">
                            <h5 class="mb-0 text-white nav-user-name" id="headerNombreEmpresa"></h5>
                        </div>
                        <a class="dropdown-item" href="config.html"><i class="fas fa-cog mr-2"></i>Config</a>
                        <a class="dropdown-item" href="inicio.html"><i class="fas fa-power-off mr-2"></i>Cerrar Sesión</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
</div>

        <div include-html="pages/main/sidebar.html"></div>

        <div class="dashboard-wrapper">
            <div class="container-fluid dashboard-content">
              <div class="row">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                      <div class="page-header">
                          <h3 class="mb-2">Asientos </h3>
                          <p class="pageheader-text">Proin placerat ante duiullam scelerisque a velit ac porta, fusce sit amet vestibulum mi. Morbi lobortis pulvinar quam.</p>
                          <div class="page-breadcrumb">
                              <nav aria-label="breadcrumb">
                                  <ol class="breadcrumb">
                                      <li class="breadcrumb-item"><a href="#" class="breadcrumb-link">Asientos</a></li>
                                      <li class="breadcrumb-item active" aria-current="page">Compuesto</li>
                                  </ol>
                              </nav>
                          </div>
                      </div>
                  </div>
              </div>
              
              <!-- inicio form asiento -->
              <form id="formCrearAsiento">
                <fieldset>
                  <legend id="legendAsiento">Crear Asiento</legend>
                  <div class="row">
                      <div class="col-xl-6 col-lg-6">
                          <div class="card">
                              
                              <div class="card-body border-top">
                                  <h5>Generales</h5>
                                  <div class="form-group">
                                      <div class="input-group date" id="datepicker" data-target-input="nearest">
                                          <input type="text" id="dateFechaAsiento" class="form-control datetimepicker-input" placeholder="Seleccionar fecha" data-target="#datepicker" />
                                          <div class="input-group-append" data-target="#datepicker" data-toggle="datetimepicker">
                                              <div class="input-group-text"><i class="far fa-calendar-alt"></i></div>
                                          </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <div class="input-group" data-target-input="nearest">
                                          <input type="text" id="txtNombreAsiento" class="form-control" placeholder="Concepto" />
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                      <div class="col-xl-6 col-lg-6">
                          <div class="card">
                              <div class="card-body border-top">
                                  <h5>Comentarios</h5>
                                  <div class="form-group">
                                      <textarea class="form-control" id="txtComentariosAsiento" rows="2"></textarea>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
             
                  <div class="row">
                    <div class="col d-flex justify-content-center">
                      <button type="button" id="btnAceptar" class="btn btn-primary">Aceptar</button>
                    </div>
                  </div>
                </fieldset>
              </form>
              <!-- fin form asiento -->
              
              <!-- listado de asientos compuestos-->
            
              <div id="divListadoAsientos">
              </div>
              
              <form id="formAgregarMovimiento" class="d-none">
                <div class="separator"></div>
                <fieldset>
                  <legend>Movimientos</legend>
                  
                  <!--input oculto para guardar id asiento modificado-->
                  <input type="text" class="d-none" id="txtIndAsiento" value="-1" />
                  
                  <div class="row d-flex justify-content-center">
                    <div class="col-xl-6 col-lg-6">
                          <div class="card">
                              <div class="card-body border-top">
                                
                                  <h5>Cargar Cuenta</h5>
                                  <input type="text" class="d-none" id="indModifyCargo" value="" />
                                  
                                  <div class="form-group">
                                      <div class="autocomplete" id="" data-target-input="nearest">
                                          <input type="text" class="form-control" id="txtPartidaCuenta" placeholder="Buscar por código o nombre" />
                                      </div>
                                      <small id="cargoErroresBlock" class="form-text text-danger">
                                      </small>
                                  </div>
                                  <div class="form-group">
                                      <div class="input-group" data-target-input="nearest">
                                          <input type="number" id="numMontoMovimientoDebe" step="0.01" min="0" class="form-control" placeholder="1.00" />
                                          <div class="input-group-append" data-target="" data-toggle="">
                                              <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
                                          </div>
                                      </div>
                                      <small id="montoCargoErroresBlock" class="form-text text-danger">
                                      </small>
                                  </div>
                                  <div class="form-group d-flex">
                                      <button type="button" id="btnCuadrarCargo" class="btn btn-warning"><i class="fas fa-balance-scale"></i> Cuadrar</button>
                                      
                                      <button type="button" id="btnCalcularIvaCargo" class="btn btn-warning ml-auto" data-toggle="modal" data-target="#exampleModalCenter"><i class="fas fa-calculator"></i> Calcular IVA</button>
                                  </div>
                                  
                              </div>
                              <div class="card-footer d-flex justify-content-center">
                                <button type="button" id="btnAgregarCargo" class="btn btn-primary">Cargar</button>
                              </div>
                          </div>
                      </div>
                    <div class="col-xl-6 col-lg-6">
                          <div class="card">
                              <div class="card-body border-top">
                                  <h5>Abonar Cuenta</h5>
                                  
                                  <input type="text" class="d-none" id="indModifyAbono" value="" />
                                  
                                  <div class="form-group">
                                      <div class="autocomplete" id="" data-target-input="nearest">
                                          <input type="text" class="form-control" id="txtContrapartidaCuenta" placeholder="Buscar por código o nombre"/>
                                      </div>
                                      <small id="abonoErroresBlock" class="form-text text-danger">
                                      </small>
                                  </div>
                                  <div class="form-group">
                                      <div class="input-group" data-target-input="nearest">
                                          <input type="number" id="numMontoMovimientoHaber" step="0.01" min="0" class="form-control" placeholder="1.00" />
                                          <div class="input-group-append" data-target="" data-toggle="">
                                              <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
                                          </div>
                                      </div>
                                      <small id="montoAbonoErroresBlock" class="form-text text-danger">
                                      </small>
                                  </div>
                                  <div class="form-group d-flex">
                                      <button type="button" id="btnCuadrarAbono" class="btn btn-warning"><i class="fas fa-balance-scale"></i> Cuadrar</button>
                                      
                                      <button type="button" id="btnCalcularIvaAbono" class="btn btn-warning ml-auto" data-toggle="modal" data-target="#exampleModalCenter"><i class="fas fa-calculator"></i> Calcular IVA</button>
                                  </div>
                                  
                              </div>
                              <div class="card-footer d-flex justify-content-center">
                                <button type="button" id="btnAgregarAbono" class="btn btn-primary">Abonar</button>
                              </div>
                          </div>
                      </div>
                  </div>
                </fieldset>
              </form>
              <div class="separator"></div>
              <div class="row d-none" id="divMovimientos">
                  <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                      <div class="card">
                          <div class="card-header">
                              <div class="mb-0" id="headerAsiento"></div>
                              <div class="mb-0" id="headerFecha"></div>
                              <p id="headerComentarios"></p>
                              <button type="button" class="btn btn-info" id="btnModificarAsiento"> <i class="fas fa-edit" aria-hidden="true"></i> Modificar</button>
                              <button type="button" class="btn btn-danger" id="btnCancelarAsiento"><i class="far fa-times-circle"></i> Cancelar</button>
                              <button type="button" class="btn btn-primary" id="btnGuardarAsiento"><i class="fas fa-save"></i> Guardar</button>
                          </div>
                          <div class="card-body">
                              <div class="table-responsive">
                                  <table class="table table-striped table-bordered first">
                                      <thead>
                                          <tr>
                                              <th>Codigo</th>
                                              <th>Concepto</th>
                                              <th>Debe</th>
                                              <th>Haber</th>
                                              <th colspan="2">Acciones</th>
                                          </tr>
                                      </thead>
                                      <tbody id="divMovimientosTabla">
                                        
                                      </tbody>
                                      <tfoot id="divFooterTabla">
                                          
                                      </tfoot>
                                  </table>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>
    </div>
    
    <!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Calcular IVA</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
          <form action="">
            
            <div class="card">
              <div class="card-body d-flex">
                <h5 class="mb-0">IVA incluido</h5>

                  <div class="switch-button switch-button-danger ml-auto">
                      <input type="checkbox" id="checkIvaIncluido">
                      <span><label for="checkIvaIncluido"></label></span>
                  </div>

              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="mb-0">IVA</h5>
                <div class="form-group">
                    <div class="autocomplete" id="" data-target-input="nearest">
                        <input type="text" class="form-control" id="txtCuentaIva" placeholder="Buscar por código o nombre"/>
                    </div>
                    <small id="txtCuentaIvaError" class="form-text text-danger">
                    </small>
                </div>
                <div class="form-group">
                    <div class="input-group" data-target-input="nearest">
                        <input type="number" id="numMontoIvaCalculado" step="0.01" min="0" class="form-control" placeholder="1.00" readonly/>
                        <div class="input-group-append" data-target="" data-toggle="">
                            <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
                        </div>
                    </div>
                    
                </div>
              </div>
            </div>
            <div class="card">
              <div class="card-body">
                <h5 class="mb-0">Principal</h5>
                <div class="form-group">
                    <div class="autocomplete" id="" data-target-input="nearest">
                        <input id="txtModalCuentaPrincipal" type="text" class="form-control" readonly/>
                    </div>
                </div>
                <div class="form-group">
                    <div class="input-group" data-target-input="nearest">
                        <input type="number" id="numMontoPrincipalCalculado" step="0.01" min="0" class="form-control" readonly/>
                        <div class="input-group-append" data-target="" data-toggle="">
                            <div class="input-group-text"><i class="fas fa-dollar-sign"></i></div>
                        </div>
                    </div>
                    
                </div>
              </div>
            </div>
            <h5 id="msgIvaFormFallido" class="mb-0 text-danger d-none"></h5>
          </form>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" type="button" data-dismiss="modal" id="btnAgregarMovimientoIva"></button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div> 

    <script src="src/pages/global.js"></script>
    <!-- Optional JavaScript -->
    <!-- jquery 3.3.1 -->
    <script src="assets/vendor/jquery/jquery-3.3.1.min.js"></script>
    <!-- bootstap bundle js -->
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.js"></script>
    <!-- slimscroll js -->
    <script src="assets/vendor/slimscroll/jquery.slimscroll.js"></script>
    <!-- main js -->
    <script src="assets/libs/js/main-js.js"></script>
    
    <!-- datepicker -->
    <script src="assets/vendor/datepicker/moment.js"></script>
    <script src="assets/vendor/datepicker/tempusdominus-bootstrap-4.js"></script>
    <script src="assets/vendor/datepicker/datepicker.js"></script>
    
    <script src="src/pages/asientos/busqueda.js"></script>
    <script type="module" src="src/pages/asientos/compuesto/main.js"></script>
</body>
 
</html>